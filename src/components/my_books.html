<section id="body" class="myBooksPage" ng-controller="myBooksCtr">
    <div class="header white-text">
        <h4 class="heading-text">My Books</h4>
        <p class="right-align">
            <button ng-click="openCreateModal()" class="btn-flat white-border white-text waves-light waves-effect"><i class="left material-icons">create</i> New Book</button>
        </p>
    </div>
    <!--This is the body-->
    <div class="body">
        <div ng-show="myBooks.length == 0" class="center center-align grey-text">
            <img src="img/empty.png">
            <h5>It's getting cold in here</h5>
            <p>You haven't created any content yet. All your books would appear here!</p>
            <button data-target="createBook" class="btn waves-light waves-effect modal-trigger">
                <i class="left material-icons">important_devices</i> Get started</button>
        </div>
        <!-- -->
        <section id="booksList" style="padding: 20px;">
           <div class="row">
               <div class="col s12 controls right-align">
                   <span ng-hide="myBooks.length == 0">{{myBooks.length}} book(s)</span>
                   <button class="btn-flat"><i class="material-icons">sort</i></button>
                   <hr>
               </div>
           </div>
            <div class="row">
                <div ng-repeat="b in myBooks track by $index" class="col s3">
                    <div class="card" style="height:261px;">
                        <div class="card-image waves-effect waves-block waves-light" style="height:61%;">
                            <img class="activator" src="img/books.png">
                        </div>
                        <div class="card-content">
                            <span class="card-title activator grey-text text-darken-4">{{b.title}}</span>
                            <p><span>{{b.category}}</span></p>
                        </div>
                        <div class="card-reveal">
                            <span class="card-title grey-text text-darken-4">{{b.title}}<i class="material-icons right">close</i></span>
                            <span class="description">{{b.description}}</span>
                            <span>Modified {{timeAgo(b.date)}}</span>
                            <hr>
                            <button title="Edit" ng-click="editBook(b)" class="btn-floating green waves-effect">
                                <i class="material-icons left">edit</i></button>
                            <button ng-click="openBook(b)" title="Read" class="btn-floating blue waves-effect"><i class="material-icons left">remove_red_eye</i></button>
                            <button ng-click="deleteBook(b)" title="Delete" class="btn-floating red darken-4 waves-effect"><i class="material-icons left">delete</i></button>
                            <button ng-click="bookSettings($index)" title="Settings" class="btn-floating grey waves-effect"><i class="material-icons left">build</i></button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal Structure -->
    <div id="createBook" class="modal">
        <form id="createBookForm" action="#">
        <div class="modal-content">
            <h4 ng-show="createNewBookBtn" class="orange-text">Create book</h4>
            <h4 ng-hide="createNewBookBtn" class="orange-text">Change Metadata</h4>
            <div>
                <div class="row">
                    <div class="col">
                        <div class="addImage orange darken-4 white-text">
                            <i class="material-icons medium">add_circle_outline</i>
                        </div>
                    </div>
                    <div class="col">
                        <h5>Create cover...</h5>
                    </div>
                </div>
                <hr>
            </div>
            <div>
                <div class="input-field">
                    <label for="book_title">Title</label>
                    <input ng-model="bookTitle" type="text" id="book_title">
                </div>
                <div class="input-field">
                    <label class="active" for="bookCategory">Category</label>
                    <input ng-model="bookCategory" type="text" id="bookCategory" placeholder="(E.g Science Fiction, Tech, Drama, Poetry)">
                </div>
                <div class="input-field">
                    <label for="book_description">Description</label>
                    <textarea ng-model="bookDescription"  id="book_description"
                              class="materialize-textarea"></textarea>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button ng-show="createNewBookBtn" type="submit" class="waves-effect waves-teal btn-flat teal-text teal-border">Continue</button>
            <button ng-hide="createNewBookBtn" type="submit" class="waves-effect waves-teal btn-flat blue-text blue-border">Update</button>
            <a href="javascript:void(0)" class="modal-close waves-grey grey-border waves-green btn-flat">cancel</a>
        </div>
        </form>
    </div>
    <!--Delete modal-->
    <div id="deleteBookModal" class="modal">
        <div class="modal-content center-align">
            <h4 class="red-text">Are you sure?</h4>
            <p>Are you sure you want to delete this book?<br>This process is not reversible!</p>
            <p>Enter this book title to delete:</p>
            <div class="input-field">
                <input type="text" id="deleteBookName" ng-model="deleteBookName" class="browser-default" placeholder="Enter book title">
            </div>
        </div>
        <div class="modal-footer">
            <button id="deleteBookBtn" class="btn-flat red-text red-border waves-effect">Delete</button>
            <button class="modal-close btn grey waves-effect">cancel</button>
        </div>
    </div>
    <!-- End of controller file-->
</section>